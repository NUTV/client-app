request = require('superagent')

episode = () ->

  self = {}

  self.findAllByShowId = (id, callback) ->
    return request
      .get [process.env.API_URL, 'shows', id, 'episodes'].join('/')
      .end (err, res) ->
        callback res.body

  self.findByShowIdAndUrlName = (id, number, callback) ->
    return request
      .get [process.env.API_URL, 'shows', id, 'episodes', number].join('/')
      .end (err, res) ->
        callback res.body

  self

module.exports = episode()
