request = require('superagent')

episode = () ->

  self = {}

  self.findAllByShowId = (id, callback) ->
    return request
      .get [process.env.API_URL, 'shows', id, 'episodes'].join('/')
      .end (err, res) ->
        callback(res.body)

  # self.findById = (id) ->
  #   await request.get('localhost:3000/shows/' + id + '/episodes').end(defer(episode))
  #   episode

  self

module.exports = episode()
